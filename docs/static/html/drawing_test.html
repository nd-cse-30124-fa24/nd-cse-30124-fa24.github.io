<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple Pencil Drawing with Fabric.js</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.6.0/fabric.min.js"></script>
    <style>
        #drawingCanvas {
            border: 2px solid black;
            touch-action: none; /* Prevent touch actions like scrolling */
        }
    </style>
</head>
<body>
    <h1>Draw with Apple Pencil (Fabric.js)</h1>
    <canvas id="drawingCanvas" width="800" height="400"></canvas>

    <script>
        window.onload = function() {
            // Create a new Fabric.js canvas instance after the page has loaded
            const canvas = new fabric.Canvas('drawingCanvas', {
                isDrawingMode: true // Enable drawing mode by default
            });

            // Set up free drawing brush properties
            canvas.freeDrawingBrush.color = 'black';
            canvas.freeDrawingBrush.width = 5; // Set the width of the brush strokes

            // Handle Apple Pencil and touch inputs
            document.getElementById('drawingCanvas').style.touchAction = 'none'; // Disable touch scrolling

            // iOS-Specific Event Handling for Pencil Input
            canvas.on('path:created', function() {
                console.log('A new path was created!');
            });
        };
    </script>
</body>
</html>